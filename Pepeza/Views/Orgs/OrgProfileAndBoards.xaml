<Page
    x:Class="Pepeza.Views.Orgs.OrgProfileAndBoards"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Pepeza.Views.Orgs"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:toast="using:Toastinet"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Styles/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Page.Resources>
    <Grid 
        Name="RootGrid"
        Background="{StaticResource pageBackground}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <StackPanel 
            Background="{StaticResource mainForeground}"
            Height="{StaticResource AppBarThemeMinHeight}">
            <TextBlock 
                Style="{StaticResource TitleTextBlockStyle}"
                       Text="{Binding username}"
                       />
        </StackPanel>
        <Pivot
            SelectedIndex="0"
            Name="OrgPivot"
            SelectionChanged="OrgPivot_SelectionChanged"
               Style="{StaticResource CustomPivot}" Margin="0" Grid.RowSpan="2"
            >
            <PivotItem Margin="8">
                <PivotItem.Header>
                    <TextBlock Style="{StaticResource txtBlockPivotHeader}"
                               Text="profile"/>
                </PivotItem.Header>
                <Grid 
        Background="{StaticResource pageBackground}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                    </Grid.ColumnDefinitions>
                
                    <ScrollViewer
            Name="SCVOrgProfile"
            Opacity="0.5"
            Grid.Row="1" 
            VerticalScrollBarVisibility="Auto"
           
            >
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                      <Ellipse Grid.Row="0"
                          Height="120"
                         StrokeThickness="2"
                         Stroke="{StaticResource mainForeground}"
                        HorizontalAlignment="Left"
                        Margin="8"
                        Width="120"
                 >
                                <Ellipse.Fill>
                                    <ImageBrush ImageSource="/Assets/Images/profile.jpg"/>
                                </Ellipse.Fill>
                            </Ellipse>
                            <TextBlock Grid.Row="1"
                   Text="name"
                   Style="{StaticResource TitleTextBlockStyle}"
                   Foreground="Black"
                   FontWeight="SemiBold"
                   FontSize="{StaticResource TextStyleLargeFontSize}"
                   />
                            <TextBlock Text="{Binding name}"
                   Grid.Row="2"
                   FontSize="14"
                   Margin="16,0,8,0"
                   Foreground="Black"
                   />
                            <TextBlock Grid.Row="3"
                   Text="description"
                   Style="{StaticResource TitleTextBlockStyle}"
                   Foreground="Black"
                   FontWeight="SemiBold"
                   FontSize="{StaticResource TextStyleLargeFontSize}"
                   />
                            <TextBlock Text="{Binding description}"
                   Grid.Row="4"
                   TextWrapping="Wrap"
                   Margin="16,8"
                   FontSize="14"
                   Foreground="Black"
                   />
                        </Grid>
                    </ScrollViewer>
                    <ProgressRing Style="{StaticResource PRstyle}"
                      Height="100"
                      Name="PRGetOrgDetails"
                      Width="100"
                      Visibility="Collapsed"
                      Grid.Row="1"
                      IsEnabled="False"
                      IsActive="True"
                      VerticalAlignment="Bottom"
                      />
                    <toast:Toastinet Grid.Row="1"
                         TextWrapping="WrapWholeWords"
                         VerticalAlignment="Bottom"
                         Height="Auto"
                         Name="toastErros"
                         Background="{StaticResource mainForeground}"
                         />
                </Grid>
            </PivotItem>
            <PivotItem>
                <PivotItem.Header>
                    <TextBlock Style="{StaticResource txtBlockPivotHeader}"
                               Text="boards"
                               />
                </PivotItem.Header>
                <Grid>
                <ListView Name="ListViewOrgBoards" SelectionChanged="ListViewOrgBoards_SelectionChanged">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Ellipse Height="80"
                                         Width="80"
                                        Grid.RowSpan="3">
                                    <Ellipse.Fill>
                                        <ImageBrush 
                                            ImageSource="/Assets/Images/profile.jpg"/>
                                    </Ellipse.Fill>
                                </Ellipse>
                                <TextBlock 
                                    Grid.Row="0"
                                    Text="{Binding name}"
                                FontWeight="Thin"
                                    Margin="8"
                                    Foreground="Black"
                                    Grid.Column="1"
                                    Style="{StaticResource GroupHeaderTextBlockStyle}">
                                </TextBlock>
                                <TextBlock Text="{Binding desc}"
                                        Grid.Row="1"
                                        Style="{ThemeResource  ListViewItemSubheaderTextBlockStyle}"
                                        Grid.Column="2"
                                        Margin="12,4"
                                        Foreground="Black"
                                       VerticalAlignment="Bottom"
                                        TextWrapping="NoWrap"
                                        TextTrimming="WordEllipsis"
                                           />
                                <Line 
                                        X1="5"     
                                        Y1="10"
                                        Grid.Row="2"
                                        X2="10"
                                        Stroke="{StaticResource mainForeground}"
                                        StrokeThickness="0.5"
                                        Y2="10"
                                        Margin="8"
                                        Grid.Column="1"
                                        Stretch="Fill"
                                                      />

                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
                    <StackPanel 
                        Name="StackPanelLoading"
                        VerticalAlignment="Center">
                        <ProgressRing Height="100"
                                  Width="100"
                                  Foreground="{StaticResource mainForeground}"
                                  IsActive="True"
                                  IsEnabled="True"
                                      Background="Transparent"
                                  />
                        <TextBlock Text="fetching boards..."
                                   Style="{StaticResource txtBlockStatus}"
                                   HorizontalAlignment="Center"
                                   />
                    </StackPanel>
                    <toast:Toastinet Height="Auto"
                                     TextWrapping="WrapWholeWords"
                                     Background="{StaticResource mainForeground}"
Name="toastErrorsInBoards"
                                     VerticalAlignment="Center"
                                     />
                </Grid>
            </PivotItem>
        </Pivot>
    </Grid>
</Page>
