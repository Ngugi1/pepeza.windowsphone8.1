<Page
    x:Class="Pepeza.Views.Boards.BoardProfileAndBoards"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Pepeza.Views.Boards"
    xmlns:Toast="using:Toastinet"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
    <Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Styles/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Page.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="1" Background="{StaticResource mainForeground}">
            <Pivot 
                SelectionChanged="Pivot_SelectionChanged"
                Style="{StaticResource CustomPivot}"
                   >
                <Pivot.Title>
                    <TextBlock 
                        Text="organisation" 
                               Margin="0"
                               Name="txtBlockTopheader"
                               Style="{StaticResource TitleTextBlockStyle}"/>
                </Pivot.Title>
                <PivotItem>
                    <PivotItem.Header>
                        <TextBlock 
                            Style="{StaticResource txtBlockPivotHeader}"
                            Text="profile"/>
                    </PivotItem.Header>
                    <Grid Name="rootGrid"
                          >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="1"
                              Opacity="0.6"
                              Background="{StaticResource pageBackground}"
                              x:Name="ContentRoot"
                              Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid>
                                <Ellipse Height="120"
                     Width="120"
                     Margin="16,8"
                     HorizontalAlignment="Left"
                     >
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="/Assets/Images/profile.jpg"/>
                                    </Ellipse.Fill>
                                </Ellipse>
                                <Button VerticalAlignment="Bottom"
                        HorizontalAlignment="Right"
                        IsEnabled="True"
                        Content="Follow board"
                        Name="btnFollow"
                        Click="btnFollow_Click"
                        Margin="16,0"
                        />
                            </Grid>
                            <TextBlock Grid.Row="1"
                       Text="name"
                       Margin="16,6"
                       Style="{StaticResource GroupHeaderTextBlockStyle}"
                       Foreground="Black"
                       />
                            <TextBlock Style="{StaticResource ListViewItemSubheaderTextBlockStyle}"
                       Foreground="Black"
                       Text="{Binding  name}"
                       Name="txtBlockName"
                       Grid.Row="2"
                       Margin="18,8"
                       />
                            <TextBlock Text="description"
                       Style="{StaticResource GroupHeaderTextBlockStyle}"
                       Foreground="Black"
                       Grid.Row="3"
                       Margin="16,8"
                       />

                            <ScrollViewer Grid.Row="4"         
                              Margin="0,0,0,24"
                              VerticalContentAlignment="Top"
                              VerticalScrollBarVisibility="Visible"
                              VerticalScrollMode="Enabled">
                                <Grid>
                                    <TextBlock 
                Padding="0,0,0,12"
                Grid.Row="4"
                Name="txtBlockDesc"
                Text="{Binding desc}"
                Margin="18,8"
                Foreground="Black"
                Style="{StaticResource ListViewItemSubheaderTextBlockStyle}"
                TextWrapping="Wrap"
                ScrollViewer.VerticalScrollMode="Auto"
                />
                                </Grid>
                            </ScrollViewer>
                        </Grid>
                        <StackPanel 
            Grid.Row="1"
            VerticalAlignment="Center"
            Name="stackPanelLoading" 
                            Margin="-10,98.833,10,365">
                            <ProgressRing VerticalAlignment="Center"
                         Grid.Row="1"
                         Width="100"
                          IsActive="True"
                          IsEnabled="True"
                          Background="Transparent"
                          Height="100"
                         Foreground="Black"
                         />
                            <TextBlock Text="loading board details"
                       HorizontalAlignment="Center"
                       Foreground="Black"
                       Style="{StaticResource txtBlockDisplay}"/>
                        </StackPanel>
                        <Toast:Toastinet 
            Background="{StaticResource mainForeground}"
            Height="Auto"
            Name="toasterror"
            Duration="4"
            AnimationType="Rotation"
            FontSize="{StaticResource TextStyleMediumFontSize}"
            TextWrapping="WrapWholeWords"
            Grid.Row="1"
            Margin="16,8"
            VerticalAlignment="Center"
            />
                    </Grid>
                </PivotItem>
                <PivotItem>
                    <PivotItem.Header>
                        <TextBlock 
                            Style="{StaticResource txtBlockPivotHeader}"
                            Text="notices"/>
                    </PivotItem.Header>
                    <Grid>
                    <ListView Name="ListViewNotices">
                        <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Ellipse Height="80"
                                         Width="80"
                                         VerticalAlignment="Center"
                                        Grid.RowSpan="3">
                                            <Ellipse.Fill>
                                                <ImageBrush 
                                            ImageSource="/Assets/Images/txtnotice.png"/>
                                            </Ellipse.Fill>
                                        </Ellipse>
                                        <TextBlock 
                                    Grid.Row="0"
                                    Text="{Binding title}"
                                FontWeight="Thin"
                                    TextTrimming="CharacterEllipsis"
                                    TextWrapping="NoWrap"
                                    Margin="8"
                                    Foreground="Black"
                                    Grid.Column="1"
                                    Style="{StaticResource GroupHeaderTextBlockStyle}">
                                        </TextBlock>
                                        <TextBlock Text="{Binding board}"
                                        Grid.Row="1"
                                        Style="{ThemeResource  MessageDialogContentStyle}"
                                        Grid.Column="2"
                                        Margin="12,4"
                                        Foreground="Black"
                                        VerticalAlignment="Bottom"
                                        TextWrapping="NoWrap"
                                        TextTrimming="WordEllipsis"
                                           />
                                        <TextBlock Text="Exam resulst have been posted at the portal"
                                        Grid.Row="2"
                                        Style="{StaticResource BaseTextBlockStyle}"
                                        Grid.Column="2"
                                        Margin="12,4"
                                        Foreground="Black"
                                        VerticalAlignment="Bottom"
                                        TextWrapping="NoWrap"
                                        TextTrimming="WordEllipsis"
                                           />
                                        <Line 
                                        X1="5"     
                                        Y1="10"
                                        Grid.Row="3"
                                        X2="10"
                                        Stroke="{StaticResource mainForeground}"
                                        StrokeThickness="0.5"
                                        Y2="10"
                                        Margin="8"
                                        Grid.Column="1"
                                        Stretch="Fill"
                                      />
                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                    </ListView>
                        <StackPanel 
                        Name="StackPanelLoadingNotices"
                        Visibility="Collapsed"
                        VerticalAlignment="Center">
                            <ProgressRing Height="100"
                                  Width="100"
                                  Foreground="{StaticResource mainForeground}"
                                  IsActive="True"
                                  IsEnabled="True"
                                      Background="Transparent"
                                  />
                            <TextBlock Text="fetching notices..."
                                   Style="{StaticResource txtBlockStatus}"
                                   HorizontalAlignment="Center"
                                   />
                        </StackPanel>
                    </Grid>
                </PivotItem>
                
            </Pivot>
        </Grid>
    </Grid>
</Page>
